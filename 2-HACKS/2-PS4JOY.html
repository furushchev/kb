
<!DOCTYPE HTML>
<html lang="ja" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>
    
        PS4JOY · Furushchev Knowledge Base
    
</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Yuki Furuta">
        
        
    <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
        integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
        crossorigin="anonymous">
    <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css"
        integrity="sha384-I6JCnqxMbC2DuiHjsoCiLa15NVbKRf8/ooANRLsXD87zD2dVqzlz6Oqjvj470ztk"
        crossorigin="anonymous">
    <link rel="stylesheet" href="../gitbook/style.css">
    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-codeblock-filename/block.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-pretty-term/terminal.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    </head>
    <body>
        
<nav class="faq-navbar navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-menu" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">
                Furushchev Knowledge Base
            </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-menu">
            
        </div>
    </div>
</nav>

<div class="faq-header">
    <div class="container">
    <h1>
        
            
                PS4JOY
            
        
    </h1>

    
<div id="book-search-input" role="search">
    <input type="text" placeholder="検索すると入力" />
</div>


    
    </div>
</div>

<div class="faq-page-container">

<div id="book-search-results">
    <div class="search-noresults">
    
    
    
        <div class="panel panel-default">
            <div class="panel-body">
                <ol class="breadcrumb">
                    <li><a href="..">FAQ</a></li>
                    
                        
                            
                        
                    
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    
                        
                            
                        
                            
                                <li>2-HACKS</li>
                            
                        
                            
                        
                    
                        
                            
                        
                            
                        
                            
                        
                            
                        
                            
                        
                    
                    <li class="active">PS4JOY</li>
                </ol>
                <div class="faq-page">
                <h2 id="ps4joy">PS4JOY</h2>
<p>PS3&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30E9;&#x304C;&#x3082;&#x3046;&#x8CB7;&#x3048;&#x306A;&#x3055;&#x305D;&#x3046;&#x306A;&#x306E;&#x3067;&#xFF0C;&#x4EE3;&#x308F;&#x308A;&#x306B;
PS3JOY&#x3092;&#x4F7F;&#x3063;&#x3066;&#x3044;&#x305F;&#x74B0;&#x5883;&#x3068;&#x306A;&#x308B;&#x3079;&#x304F;&#x540C;&#x3058;&#x306B;&#x3059;&#x308B;&#x3053;&#x3068;&#x3092;&#x76EE;&#x6A19;&#x306B;
PS4&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30E9;&#x3092;ROS&#x3067;&#x4F7F;&#x3063;&#x3066;&#x307F;&#x308B;&#xFF0E;</p>
<h3 id="&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x3092;&#x30A4;&#x30F3;&#x30B9;&#x30C8;&#x30FC;&#x30EB;">&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x3092;&#x30A4;&#x30F3;&#x30B9;&#x30C8;&#x30FC;&#x30EB;</h3>
<pre><code class="lang-bash">sudo pip install ds4drv
</code></pre>
<h3 id="&#x30DA;&#x30A2;&#x30EA;&#x30F3;&#x30B0;">&#x30DA;&#x30A2;&#x30EA;&#x30F3;&#x30B0;</h3>
<pre><code class="lang-bash">furushchev@azuki:~$ sudo bluetoothctl 
[NEW] Controller 7C:5C:F8:F8:0F:BF azuki [default]
[bluetooth]<span class="hljs-comment"># scan on</span>
Discovery started
[CHG] Controller 7C:5C:F8:F8:0F:BF Discovering: yes
[NEW] Device DB:AD:99:F0:51:B1 DB-AD-99-F0-51-B1
[NEW] Device 73:D8:6D:DB:B6:CD 73-D8-6D-DB-B6-CD
[CHG] Device 73:D8:6D:DB:B6:CD RSSI: -65
[CHG] Device 73:D8:6D:DB:B6:CD Name: 73B2
[CHG] Device 73:D8:6D:DB:B6:CD Alias: 73B2
[NEW] Device 43:51:A9:0D:DC:6F 43-51-A9-0D-DC-6F
[NEW] Device 94:65:2D:BF:ED:8C OnePlus 5T
[NEW] Device 80:56:F2:6A:85:B6 80-56-F2-6A-85-B6
[CHG] Device 80:56:F2:6A:85:B6 Name: BRAVIA
[CHG] Device 80:56:F2:6A:85:B6 Alias: BRAVIA
[CHG] Device 80:56:F2:6A:85:B6 UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[NEW] Device 1C:66:6D:7B:C6:0A Wireless Controller  <span class="hljs-comment"># &#x2190;&#x30B3;&#x30EC;</span>
[CHG] Device DB:AD:99:F0:51:B1 RSSI: -63
[CHG] Device 73:D8:6D:DB:B6:CD RSSI: -76
[NEW] Device 7A:66:83:17:E5:63 7A-66-83-17-E5-63
[NEW] Device B4:B6:76:E9:B2:D5 B4-B6-76-E9-B2-D5

[bluetooth]<span class="hljs-comment"># pair 1C:66:6D:7B:C6:0A  # &#x3053;&#x3053;&#x3067;PS+SHARE&#x3092;&#x9577;&#x62BC;&#x3057;&#xFF0E;</span>
Attempting to pair with 1C:66:6D:7B:C6:0A
[CHG] Device 1C:66:6D:7B:C6:0A Connected: yes
[CHG] Device 1C:66:6D:7B:C6:0A Modalias: usb:v054Cp05C4d0100
[CHG] Device 1C:66:6D:7B:C6:0A UUIDs: 00001124-0000-1000-8000-00805f9b34fb
[CHG] Device 1C:66:6D:7B:C6:0A UUIDs: 00001200-0000-1000-8000-00805f9b34fb
[CHG] Device 1C:66:6D:7B:C6:0A Paired: yes
Pairing successful
[CHG] Device 1C:66:6D:7B:C6:0A Connected: no

[bluetooth]<span class="hljs-comment"># trust 1C:66:6D:7B:C6:0A # trust&#x3057;&#x306A;&#x3044;&#x3068;&#x63A5;&#x7D9A;&#x306B;&#x5931;&#x6557;&#x3059;&#x308B;&#x3063;&#x307D;&#x3044;&#xFF1F;</span>
[CHG] Device 1C:66:6D:7B:C6:0A Trusted: yes
Changing 1C:66:6D:7B:C6:0A trust succeeded
[bluetooth]<span class="hljs-comment"># info 1C:66:6D:7B:C6:0A                                                                   </span>
Device 1C:66:6D:7B:C6:0A
        Name: Wireless Controller
        Alias: Wireless Controller
        Class: 0x002508
        Icon: input-gaming
        Paired: yes
        Trusted: yes
        Blocked: no
        Connected: no
        LegacyPairing: no
        UUID: Human Interface Device... (00001124-0000-1000-8000-00805f9b34fb)
        UUID: PnP Information           (00001200-0000-1000-8000-00805f9b34fb)
        Modalias: usb:v054Cp05C4d0100

<span class="hljs-comment"># &#x3053;&#x3053;&#x3067;&#x30B3;&#x30F3;&#x30C8;&#x30ED;&#x30FC;&#x30E9;&#x306E;PS&#x3092;&#x62BC;&#x3057;&#x305F;&#x3089;&#xFF0C;&#x9752;&#x8272;&#x70B9;&#x706F;&#x306B;&#x306A;&#x3063;&#x305F;&#xFF0E;</span>
[Wireless Controller]<span class="hljs-comment"># info 1C:66:6D:7B:C6:0A                                                         </span>
Device 1C:66:6D:7B:C6:0A
        Name: Wireless Controller
        Alias: Wireless Controller
        Class: 0x002508
        Icon: input-gaming
        Paired: yes
        Trusted: yes
        Blocked: no
        Connected: yes   <span class="hljs-comment"># Connected&#x304C;yes&#x306B;&#x5909;&#x308F;&#x3063;&#x305F;</span>
        LegacyPairing: no
        UUID: Human Interface Device... (00001124-0000-1000-8000-00805f9b34fb)
        UUID: PnP Information           (00001200-0000-1000-8000-00805f9b34fb)
        Modalias: usb:v054Cp05C4d0100
</code></pre>
<h3 id="&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x8D77;&#x52D5;">&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x8D77;&#x52D5;</h3>
<pre><code class="lang-bash">furushchev@azuki:~$ sudo ds4drv --hidraw 
[info][controller 1] Created devices /dev/input/js0 (joystick) /dev/input/event14 (evdev) 
[info][hidraw] Scanning <span class="hljs-keyword">for</span> devices
m[info][controller 1] Connected to Bluetooth Controller (1C:66:6D:7B:C6:0A hidraw0)
[info][hidraw] Scanning <span class="hljs-keyword">for</span> devices
[info][controller 1] Battery: Fully charged
[warning][controller 1] Signal strength is low (18 reports/s)
</code></pre>
<p>&#x3064;&#x306A;&#x304C;&#x3063;&#x305F;&#x3063;&#x307D;&#x3044;&#xFF1F;</p>
<pre><code class="lang-bash">furushchev@azuki:/dev/input$ jstest --old /dev/input/js0                                                                                                                                                      
Driver version is 2.1.0.
Joystick (Sony Computer Entertainment Wireless Controller) has 14 axes (X, Y, Z, Rx, Ry, Rz, Throttle, Rudder, Wheel, Hat0X, Hat0Y, ?, ?, ?)
and 14 buttons (BtnX, BtnY, BtnZ, BtnTL, BtnTR, BtnTL2, BtnTR2, BtnSelect, BtnStart, BtnMode, BtnThumbL, BtnThumbR, ?, ?).
Testing ... (interrupt to <span class="hljs-built_in">exit</span>)
^Ces: X:128 Y:128 Buttons: A:off B:off
</code></pre>
<h3 id="&#x30AD;&#x30FC;&#x30DE;&#x30C3;&#x30D7;&#x3092;ps3-joy&#x306B;&#x63C3;&#x3048;&#x308B;">&#x30AD;&#x30FC;&#x30DE;&#x30C3;&#x30D7;&#x3092;PS3 Joy&#x306B;&#x63C3;&#x3048;&#x308B;</h3>
<ul>
<li><a href="https://github.com/ros-drivers/joystick_drivers/pull/120" target="_blank">https://github.com/ros-drivers/joystick_drivers/pull/120</a> &#x304C;&#x5FC5;&#x8981;&#xFF0E;</li>
</ul>
<pre><code class="lang-bash"><span class="hljs-built_in">cd</span> /path/to/catkin/workspace
wstool <span class="hljs-built_in">set</span> -t src ros-drivers/joystick_drivers --git https://github.com/furushchev/joystick_drivers.git -v remap -u -y
rosdep install --from-paths src -i -r -n -y
catkin build joy
<span class="hljs-built_in">source</span> devel/setup.bash
</code></pre>
<ul>
<li>&#x30CE;&#x30FC;&#x30C9;&#x3092;&#x8D77;&#x52D5;</li>
</ul>
<pre><code class="lang-bash">roslaunch joy ps4joy.launch
</code></pre>
<ul>
<li>&#x3053;&#x308C;&#x3067;<code>/joy</code>&#x306B;
PS3 joy&#x3068;&#x540C;&#x3058;&#x30AD;&#x30FC;&#x30A2;&#x30B5;&#x30A4;&#x30F3;&#x3067;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30B7;&#x30E5;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
<li>PS4 joy&#x306E;&#x3082;&#x3068;&#x3082;&#x3068;&#x306E;&#x30AD;&#x30FC;&#x30A2;&#x30B5;&#x30A4;&#x30F3;&#x306F;<code>/joy_orig</code>&#x306B;&#x30D1;&#x30D6;&#x30EA;&#x30C3;&#x30B7;&#x30E5;&#x3055;&#x308C;&#x308B;&#xFF0E;</li>
</ul>
<h2 id="ps4joy&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x306E;&#x81EA;&#x52D5;&#x8D77;&#x52D5;&#x8A2D;&#x5B9A;">PS4JOY&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x306E;&#x81EA;&#x52D5;&#x8D77;&#x52D5;&#x8A2D;&#x5B9A;</h2>
<ul>
<li>PS4JOY&#x306E;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x3092;OS&#x8D77;&#x52D5;&#x6642;&#x306B;&#x81EA;&#x52D5;&#x8D77;&#x52D5;&#x3059;&#x308B;&#x8A2D;&#x5B9A;</li>
</ul>
<pre><code class="lang-conf"># /etc/systemd/system/ds4drv.service
[Unit]
Description=ds4drv daemon
Requires=bluetooth.service
After=bluetooth.service

[Service]
ExecStart=/usr/local/bin/ds4drv --hidraw
Restart=on-abort

[Install]
WantedBy=bluetooth.target
</code></pre>
<pre><code class="lang-bash">sudo ln -sf /etc/systemd/system/ds4drv.service /etc/systemd/system/bluetooth.target.wants/ds4drv.service
</code></pre>
<ul>
<li><p>&#x8A2D;&#x5B9A;&#x306E;&#x6709;&#x52B9;&#x5316;</p>
<ul>
<li>&#x5148;&#x306B;PS3JOY&#x306E;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x3092;&#x7121;&#x52B9;&#x306B;&#x3059;&#x308B;&#xFF08;Optional&#xFF09;</li>
</ul>
<pre><code class="lang-bash">sudo systemctl stop sixad.service
sudo systemctl <span class="hljs-built_in">disable</span> sixad.service
</code></pre>
<ul>
<li>PS4JOY&#x306E;&#x30C9;&#x30E9;&#x30A4;&#x30D0;&#x8A2D;&#x5B9A;&#x3092;&#x6709;&#x52B9;&#x306B;&#x3059;&#x308B;</li>
</ul>
<pre><code class="lang-bash">sudo systemctl <span class="hljs-built_in">enable</span> ds4drv.service
sudo systemctl start ds4drv.service
</code></pre>
<ul>
<li>OS&#x3092;&#x518D;&#x8D77;&#x52D5;&#x3057;&#x3066;&#x52D5;&#x4F5C;&#x3092;&#x78BA;&#x8A8D;&#x3059;&#x308B;</li>
</ul>
</li>
</ul>

                </div>
            </div>
        </div>

        
            
        
    


    
    <div class="faq-page-footer">
        <a href="https://www.gitbook.com" target="_blank">GitBookで公開 </a> ·
        <span>Last edit June 5th 2018</span>
    </div>
    

    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results for "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

</div>

        
<script src="../gitbook/gitbook.js"></script>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
    

    
    <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="../gitbook/gitbook-plugin-pretty-term/terminal.js"></script>
    

    
    <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
    

    
    <script src="../gitbook/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
    

    
    <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
    

<script>
(function() {
    gitbook.page.hasChanged({"page":{"title":"PS4JOY","level":"3.2","depth":1,"next":{"title":"TX2のキャリアボードへの載せ替え","level":"3.3","depth":1,"path":"2-HACKS/5-TX2-Orbitty.md","ref":"2-HACKS/5-TX2-Orbitty.md","articles":[]},"previous":{"title":"RN-42 bluetoothモジュール","level":"3.1","depth":1,"path":"2-HACKS/1-RN-42.md","ref":"2-HACKS/1-RN-42.md","articles":[]},"dir":"ltr"},"config":{"plugins":["codeblock-filename","katex","disqus","summary","pretty-term","theme-faq","-fontsettings","-sharing"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"disqus":{"useIdentifier":false,"shortName":"furshchev"},"pretty-term":{},"summary":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"katex":{},"theme-faq":{},"highlight":{},"codeblock-filename":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Yuki Furuta","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Furushchev Knowledge Base","language":"ja","gitbook":"*"},"file":{"path":"2-HACKS/2-PS4JOY.md","mtime":"2018-06-05T01:36:08.146Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-06-05T01:37:07.527Z"},"basePath":"..","book":{"language":""}})
})();
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    </body>
</html>

